<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>Dashbord</title>
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="../static/css/bootstrap.min.css">
    <link rel="stylesheet" href="../static/css/jquery-ui.css">
    <link rel="stylesheet" href="../static/css/chartist.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bulma/0.4.2/css/bulma.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <script src="../static/js/chartist.js"></script>
    <!-- jQuery first, then Tether, then Bootstrap JS. -->
    <script src="../static/js/jquery-3.2.1.min.js" ></script>
    <script src="../static/js/jquery-ui.js" ></script>
    <script src="../static/js/bootstrap.min.js"></script>
    <style>
      body{
        background-color: #EADBC4;
      }
      h1{
        color: #000000;
        font-size: 30px;
      }
      nav {
        color: #ffffff;
        font-size: 30px;
        margin: 10px 0px !important;
      }
      .panel-head{
        color: #ffffff;
        background-color:#000000;
        font-size: 30px;
        padding:10px 0px !important;
      }
      .margin-head{
        margin:50px 0px !important;
      }
      .chart{
        height:400px;
        margin: 10px 0px;
      }
      #summary p{
        font-size: 20px;
        border: solid;
        border-width: medium;
        text-align: left;
      }
    </style>
  </head>
  <body>
    <div class="container box">
      <div class="row text-center">
        <h1> Analysis Dashbord</h1>
      </div>
    </div>
    <div class="container">
      <div class="row">
        <!-- start naviagtion column -->
        <div class="col-md-3 text-center box">
          <div class="row">
            <div class="panel panel-info">
              <div class="panel-body panel-head">Overviews</div>
              <div class="panel-footer">
                <p>Summary of the data.</p>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="panel panel-info">
              <div class="panel-body panel-head">Details</div>
              <div class="panel-footer">
                <h3>Visualized data in details.</h3>
                <p>Select method.</p>
                <select class="list-group text-left" id="detail">
                  <option class="list-group-item" value="hour">By Hour</option>
                  <option class="list-group-item" value="day">By Day</option>
                  <option class="list-group-item" value="week">By Week</option>
                  <option class="list-group-item" value="mounth">By Mounth</option>
                </select>
                <p>Select date.</p>
                <input id="datepicker">
                <input type="submit" class="btn" value="Reflesh">
              </div>
            </div>
          </div>
        </div>
        <!-- end naviagtion column -->

        <!-- start image column -->
        <div class="col-md-offset-1 col-md-8 text-center">
          <div class="row box">
            <div id="summary" style="height:100px;"></div>
          </div>
          <div class="row box">
            <h1>Top-10-Users:</h1>
            <div id="topUserBar" class="chart" ></div>

          </div>
          <div class="row box">
            <h1>Top-10-Items-in-sales:</h1>
            <div id="topItemSales"  class="chart" ></div>
          </div>
          <div class="row box">
            <h1>Top-10-Items-in-sales-incomes:</h1>
            <div id="topItemValues"  class="chart" ></div>
          </div>
        </div>
        <!-- start image column -->
    </div>
    <script>
      var summary = {{ summary | safe }};
      var sumText = [];
      sumText.push("<p>"+"Total number of users: "+summary.nb_user+"</p>");
      sumText.push("<p>"+"Total types of items: "+summary.nb_items+"</p>");
      sumText.push("<p>"+"Total sales value: "+summary.total_cost+"</p>");
      $("#summary").append(sumText);
      new Chartist.Bar('#topUserBar', {
        labels: summary.top_10_user,
        series: [
          summary.top_10_user_cost
        ]
      }, {
        seriesBarDistance: 10,
        reverseData: true,
        horizontalBars: true,
        axisY: {
          offset: 70
        }
      });
      new Chartist.Bar('#topItemSales', {
        labels: summary.top_10_sales_item,
        series: [
          summary.top_10_sales_sales
        ]
      }, {
        seriesBarDistance: 10,
        horizontalBars: false,
        axisY: {
          offset: 70
        }
      });
      new Chartist.Bar('#topItemValues', {
        labels: summary.top_10_value_item,
        series: [
          summary.top_10_value_values
        ]
      }, {
        seriesBarDistance: 10,
        horizontalBars: false,
        axisY: {
          offset: 70
        }
      });
    </script>

    <script>
      $(document).ready(function() {
        $("#datepicker").datepicker({
          prevText: '<i class="fa fa-fw fa-angle-left"></i>',
          nextText: '<i class="fa fa-fw fa-angle-right"></i>'
        });
      });
    </script>
  </body>
</html>
